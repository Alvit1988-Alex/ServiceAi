# Core application settings
APP_NAME=ServiceAI Backend

# Environment: production|staging|development|test
# You can use ENV or APP_ENV (both supported); ENV has priority if both set.
ENV=development
# APP_ENV=development

# Debug must be false in production deployments
DEBUG=false

# Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/serviceai

# Auto-create tables (ONLY for local development bootstrap; NEVER in production)
# Allowed only when DEBUG=true and ENV != production
DB_AUTO_CREATE=false

# CORS settings (comma-separated)
CORS_ALLOW_ORIGINS=http://localhost:3000, http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Admin bootstrap (leave empty to skip)
ADMIN_EMAIL=
ADMIN_PASSWORD=
ADMIN_FULL_NAME=

# JWT configuration (use long random values in production)
JWT_SECRET_KEY=jwt_secret_key_placeholder_32_chars!!
JWT_REFRESH_SECRET_KEY=jwt_refresh_secret_key_placeholder_32_chars!!
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRES_MINUTES=15
REFRESH_TOKEN_EXPIRES_DAYS=30

# Other internal security keys (use long random values in production)
CHANNEL_CONFIG_SECRET_KEY=channel_config_secret_key_placeholder_32_chars!!
INTERNAL_API_KEY=

# Telegram authentication
AUTH_TELEGRAM_ONLY=false
TELEGRAM_AUTH_BOT_TOKEN=
TELEGRAM_AUTH_BOT_USERNAME=
TELEGRAM_WEBHOOK_SECRET=
TELEGRAM_WEBHOOK_PATH=/auth/telegram/webhook
PUBLIC_BASE_URL=  # Public backend URL (webhooks/callbacks)
FRONTEND_BASE_URL=https://dostup.tgkod.ru  # Frontend URL for OAuth redirect target (/integrations)

# GigaChat configuration
GIGACHAT_CLIENT_ID=
GIGACHAT_CLIENT_SECRET=
GIGACHAT_AUTH_URL=
GIGACHAT_API_URL=
GIGACHAT_SCOPE=
GIGACHAT_USE_TLS_CERT=false
GIGACHAT_CERT_PATH=

# OpenAI-compatible configuration (e.g., LM Studio)
AI_LLM_PROVIDER=gigachat
AI_EMBEDDINGS_PROVIDER=gigachat
OPENAI_BASE_URL=http://127.0.0.1:12345/v1
OPENAI_API_KEY=lmstudio
OPENAI_CHAT_MODEL=deepseek/deepseek-r1-0528-qwen3-8b
OPENAI_EMBEDDING_MODEL=text-embedding-nomic-embed-text-v1.5

# Webchat static assets directory
WEBCHAT_STATIC_DIR=/opt/serviceai/frontend/public/static

# Bitrix24 OAuth integration
BITRIX24_APP_CLIENT_ID=
BITRIX24_APP_CLIENT_SECRET=
BITRIX24_APP_REDIRECT_URL=https://your-backend.example.com/integrations/bitrix24/oauth/callback
BITRIX24_APP_SCOPES=imopenlines,im,crm
BITRIX24_OAUTH_TOKEN_URL=https://oauth.bitrix.info/oauth/token/
BITRIX24_APP_APPLICATION_TOKEN=
BITRIX24_CONNECT_STATE_SECRET=replace_with_long_random_secret
